param(
    [string]$Packages = "",
    [string]$TargetVersions = "",
    [string]$OutputFile = "manual-updates-summary.md"
)

Write-Host "Cr√©ation du r√©sum√© de mise √† jour manuelle..."

$summaryContent = @"
# üîß Mise √† jour manuelle des packages NuGet

Cette mise √† jour a √©t√© d√©clench√©e manuellement le $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss') UTC.

## Packages cibl√©s
"@

if ([string]::IsNullOrWhiteSpace($Packages)) {
    $summaryContent += "`n- Tous les packages"
} else {
    $summaryContent += "`n- $Packages"
}

if (![string]::IsNullOrWhiteSpace($TargetVersions)) {
    $summaryContent += "`n`n## Versions cibles`n- $TargetVersions"
}

$summaryContent += @"

## Actions effectu√©es

1. ‚úÖ Mise √† jour des packages demand√©s
2. ‚úÖ Build de la solution
3. ‚úÖ Ex√©cution des tests
4. ‚úÖ Cr√©ation de cette Pull Request

Cette PR a √©t√© cr√©√©e suite √† une demande manuelle et peut √™tre merg√©e si tous les checks passent au vert.
"@

$summaryContent | Out-File -FilePath $OutputFile -Encoding UTF8
Write-Host "Fichier de r√©sum√© cr√©√©: $OutputFile"
